syntax = "proto3";

package storage;
import "google/protobuf/timestamp.proto";

option go_package = "github.com/Nikita-Smirnov-idk/Antiplagiat_System/services/plagiarism_service/contracts/gen/go;plagiarismpb";

// Service for plagiarism analysis
service Plagiarism {
  // Get plagiarism report for a task
  rpc GetPlagiarismReport(GetPlagiarismReportRequest) returns (GetPlagiarismReportResponse) {}
}

// Request for plagiarism report
message GetPlagiarismReportRequest {
  string task_id = 1;
}

// Response with plagiarism report
message GetPlagiarismReportResponse {
  repeated PlagiarismReport Reports = 1;
  google.protobuf.Timestamp StartedAt = 2;
}

// Main report for a task
message PlagiarismReport {
  string Student = 1;
  string StudentWithSimilarFile = 2;
  double MaxSimilarity = 3;
  google.protobuf.Timestamp FileHandedOverAt = 4;
}